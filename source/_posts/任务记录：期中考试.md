---
title: 任务记录：期中考试
date: 2018-03-01 17:08:40
tags: 前端相关
---

## 1. 请写出一个符合 W3C 规范的 HTML 文件，要求：...

``` html
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的页面</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/print.css" media="print">
    <link rel="stylesheet" href="/mobile.css" media="(max-width: 500px)">
</head>

<body>
    <svg version="1.1" baseProfile="full" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
        <circle cx="100" cy="100" r="100" fill="#33CC99" />
    </svg>

    <script src="/main.js"></script>
    <script src="/gbk.js" charset="GBK"></script>
</body>

</html>
```

## 2. 移动端是怎么做适配的？

### 1. meta viewport

#### viewport是什么

大部分网站采用的移动端适配方案仍然是根据访问设备的不同返回不同的页面，而在开发移动端页面时则会遇到一个问题：移动设备为了兼容未适配移动端页面的网站而默认模拟自己的设备宽度为980px，将PC端页面等比缩放到移动设备上，以保证该设备能正常访问这些页面。而专门为移动端开发的页面则不需要被缩放，为了解决这个问题，需要在页面中加入：

``` html
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
```

这个标签用于设置视口的属性，每个属性的作用分别是：页面宽度设置为设备宽度、禁止用户缩放、默认缩放倍数为1、最大缩放倍数为1、最小缩放倍数为1。

这样就会使移动端页面按照其自身设备宽度正常显示了。

#### viewport移动端适配

而通过viewport可以直接完成简单的移动端适配，即上文中提到的**等比缩放**。根据不同的设备宽度来动态生成viewport，如：

``` html
<meta name="viewport" content="width=640,initial-scale=0.5,maximum-scale=0.5,minimum-scale=0.5,user-scalable=no">
```

### 2. 媒体查询

移动端适配的一种方案便是通过CSS3的**媒体查询**功能实现响应式布局，即为不同宽度的页面分别设置不同的CSS样式。例如：

``` css
@media screen and (max-width: 425px) {
    body {
        background: #000;
    }
}
```

这段代码控制页面宽度在0-425px的范围内时，body的背景颜色被设置为黑色。

通过媒体查询即可做到只写一套代码就能在不同的设备上展现不同的样式。但这种方案的缺点同样很明显：为了兼顾PC端和移动端的体验，往往会损失二者各自特有的交互体验。而且很可能会因为需要同时加载其他设备的资源而造成资源浪费。

### 3. 动态rem方案

动态rem方案也是手机淘宝使用的方案，这种方案更多的用于不同移动设备之间的适配。根据设备的屏幕宽度动态地设置rem的值。页面中需要适配的元素就使用rem单位，而不需要适配的元素则使用px单位。

实际的实现过程为：

1. 动态生成viewport。
2. 根据屏幕宽度为html设置font-size属性，也就是rem值。
3. 根据设备分辨率为html标签添加data-dpr属性（设备像素比：设备像素 / CSS像素）。

## 3. 用过CSS3吗? 实现圆角矩形和阴影怎么做?

**圆角矩形**通过为元素添加border-radius属性来控制，属性的值控制圆角的弧度，可以为像素值或百分比。例如：

``` css
div { border-radius: 10px; }
```

**边框阴影**通过属性box-shadow控制，该属性有5个值，分别控制 阴影在边框内或外、阴影的横向偏移、阴影的纵向偏移、阴影的模糊面积、阴影扩大或是收缩、阴影颜色。例如：

``` css
div { box-shadow: inset 2px 2px 2px 1px rgba(0, 0, 0, 0.2); }
```

**文字阴影**通过属性box-shadow控制，该属性有4个值，分别控制 阴影颜色、阴影的横向偏移、阴影的纵向偏移、阴影的模糊面积。例如：

``` css
div { text-shadow: 1px 1px 2px black; }
```

## 4. 什么是闭包，闭包的用途是什么？

### 什么是闭包？

当一个函数拥有其自身作用域以外的变量的引用，这时就产生了闭包。而这个函数+它内部引用的变量，就是一个闭包。例如：

``` js
function foo() {
    var a = 10
    function bar() {
        console.log(a)
    }
    return bar
}

var baz = foo()
baz()   // 10
```

这里foo函数在执行时将bar函数返回并赋值给了baz，而foo函数执行结束后，由于bar函数内部存在对foo内变量a的引用，使得foo的内部作用域不会被销毁而是随着函数bar一同被保留了下来。当bar函数在外部被调用时，就仍然能够访问到变量a。

闭包基于词法作用域产生，只要掌握了作用域，也就理解了闭包。

### 闭包的用途？

闭包可以用来隐藏变量，使外界无法直接修改这个变量而避免一些可能发生的错误。例如：

``` js
function foo() {
    var a = 10
    function bar() {
        a += 1
        console.log(a)
    }
    return bar
}

var add = foo()
add()   // 11
add()   // 12
```

这样外界就无法直接访问变量a，但可以通过foo返回的函数bar来间接地增加a的值。

## 5. call、apply、bind 的用法分别是什么？

call、apply、bind的作用都是用来显示绑定也就是更改函数内this的值（一般为对象）。

call和apply的作用完全一样，它们都是用于指定函数内this的值的同时执行该函数。只是在参数的接收方式上有些差别：它们的第一个参数都是目标this，call从第二个参数开始传入原函数的第一个参数，依次类推。例如：

``` js
func.call(obj, param1, param2)
```

而apply的第二个参数接收一个数组，数组中的元素就是原函数的参数。例如：

``` js
func.apply(obj, [param1, param2])
```

而bind不会立即执行函数，而是会返回一个绑定指定this后的新函数，这个函数被调用时的this值永远是bind执行时传入的this值。例如：

``` js
var newFunc = func.bind(obj)
```

## 6. 请说出至少 8 个 HTTP 状态码，并描述各状态码的意义。

1. 200 请求成功。
2. 201 请求已经被实现。
3. 301 请求的资源已经永久移动到新的位置。
4. 302 要求客户端执行临时重定向，但这个重定向是暂时的。
5. 400 客户端错误，服务器不能处理该请求。
6. 403 服务器拒绝请求，并且不允许再次请求。
7. 404 请求失败，没有找到希望得到的资源。
8. 500：服务器内部错误。
9. 502：网关或者代理出现问题。

## 7. 请写出一个 HTTP post 请求的内容，包括四部分。 其中 第四部分的内容是 username=ff&password=123 第二部分必须含有 Content-Type 字段 请求的路径为 /path

``` http
POST /path HTTP/1.1
Host: www.baidu.com
Content-Type: application/x-www-form-urlencoded

username=ff&password=123
```

## 8. 请说出至少三种排序的思路，这三种排序的时间复杂度分别为 O(n*n) O(n log2 n) O(n + max)

1. 冒泡排序
2. 希尔排序
3. 计数排序

## 9. 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？

### 1. 输入网址

网址，也就是**URL（统一资源定位符）**，用来定位用户想要访问的网页。它的标准格式是这样的：

> 协议类型:[//服务器地址[:端口号]][/资源层级UNIX文件路径]文件名[?查询][#片段ID]

然而一般情况只需要输入域名就可以了，比如直接输入www.baidu.com就可以直接跳转到百度。因为浏览器会自动补全协议类型（http）、端口号（80）和路径（/）。

### 2. 解析域名

单独只靠域名是无法找到对应的服务器的，为了找到服务器，需要先得到服务器的IP地址。这里就需要使用**DNS（域名系统）**将域名解析为对应的IP地址。而DNS实际上就是一个存储域名与IP相互映射的数据库。

### 3. 浏览器发送请求

拿到IP地址之后浏览器便可以向服务器发送请求。而请求的格式需要遵守一种约定，也就是**HTTP（超文本传输协议）**，HTTP是客户端和服务器请求和应答的标准，也是必须遵守的规定。

### 4. 服务器响应请求

服务器拿到请求之后会根据请求的路径返回不同的文件内容。例如访问某服务器的/index.html路径时，服务器内部就会响应请求并将这个路径对应的文件内容传输回客户端。

### 5. 浏览器解析文件内容

浏览器接收到文件后就开始逐行解析文件的内容。如果文件中又包含另外的请求，如在html文件中遇到link标签，则需要根据指定路径再次发送请求，也就是重复第3到4步。直到所有文件全部解析请求完毕。

### 6. 将请求结果呈现到页面

当所有请求与接收全部完成之后，一个完整的页面就被呈现到了用户的面前。

## 10. 如何实现数组去重？

### ES5

``` js
function unique(arr) {
    return arr.filter(function (value, index) {
        return arr.lastIndexOf(value) === index
    })
}
```

### ES6

``` js
const unique = arr => Array.from(new Set(arr))
```